import { assertEquals, assertThrows } from "../test_deps.ts";
import validate, { InvalidRUTException } from "./validate.ts";

Deno.test("validate returns expected", () => {
  assertEquals(validate("18591404-6"), undefined);
  assertEquals(validate("24225112-1"), undefined);
  assertEquals(validate("10980661-7"), undefined);
  assertEquals(validate("17116316-1"), undefined);
  assertEquals(validate("13463387-5"), undefined);
  assertEquals(validate("23455756-4"), undefined);
  assertEquals(validate("16961522-5"), undefined);
  assertEquals(validate("20141432-6"), undefined);
  assertEquals(validate("19497051-k"), undefined);
  assertEquals(validate("23870961-k"), undefined);
  assertEquals(validate("185914046"), undefined);
  assertEquals(validate("242251121"), undefined);
  assertEquals(validate("109806617"), undefined);
  assertEquals(validate("171163161"), undefined);
  assertEquals(validate("134633875"), undefined);
  assertEquals(validate("234557564"), undefined);
  assertEquals(validate("169615225"), undefined);
  assertEquals(validate("201414326"), undefined);
  assertEquals(validate("19497051k"), undefined);
  assertEquals(validate("23870961k"), undefined);
  assertEquals(validate(185914046), undefined);
  assertEquals(validate(242251121), undefined);
  assertEquals(validate(109806617), undefined);
  assertEquals(validate(171163161), undefined);
  assertEquals(validate(134633875), undefined);
  assertEquals(validate(234557564), undefined);
  assertEquals(validate(169615225), undefined);
  assertEquals(validate(201414326), undefined);
  assertEquals(validate("18.591.404-6"), undefined);
  assertEquals(validate("24.225112-1"), undefined);
  assertEquals(validate("10.980.661-7"), undefined);
  assertThrows(() => validate(Infinity));
  assertThrows(() => validate("18591404-5"));
  assertThrows(() => validate("24225112-K"));
  assertThrows(() => validate("10980661-0"));
  assertThrows(() => validate("17116316-2"));
  assertThrows(() => validate("13463387-K"));
  assertThrows(() => validate("23455756-8"));
  assertThrows(() => validate("16961522-3"));
  assertThrows(() => validate("20141432-9"));
  assertThrows(() => validate("19497051-3"));
  assertThrows(() => validate("23870961-1"));
  assertThrows(() => validate("dummyvalue"));
});
